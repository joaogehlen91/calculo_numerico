"""
Trabalho 1 - Ajuste Linear Simples
Aluno: Joao Miguel Gehlen da Silva
Curso: Ciencia da Computacao
"""

# Informe os valores de x e y nas listas abaixo, respectivamente
x = [61500,67500,75000,75000,76000,77000,80000,81000,81000,85000,90000,90000,90000,94000,94000,95000,102000,104000,106000,110000,115000,115000,120000,121000,124000,125000,125000,126000,127000,130000,130000,135000,135000,135000,135000,140000,140000,140000,140000,145000,145000,148000,151000,155000,163000,165000,165000,165000,170000,170000,170000,170000,170000,174000,175000,178000,189000,190000,191000,194000,195000,200000,200000,200000,200000,200000,200000,200000,200000,208000,210000,214000,225000,225000,231000,240000,240000,240000,240000,240000,241000,244500,250000,262000,270000,270000,275000,289000,295000,300000,300000,303000,304000,310000,315000,325000]
y = [6656,6864,4992,7280,6656,4576,4992,6656,4784,7072,6240,6240,4576,8736,5200,7904,9568,7904,6656,7072,5824,7904,11440,12064,8528,7904,8500,6240,8944,9776,7696,8320,7280,7488,8736,9152,9360,9568,10816,8320,11232,8320,7904,7488,11024,8528,9152,13312,8500,12688,8736,9568,11232,10400,9152,11856,12272,8320,12064,11232,11024,10608,10000,12272,9360,8320,13312,10400,12480,10400,11232,8528,10400,12480,12896,11648,11648,12064,11024,10192,9152,11232,12500,10192,12480,12896,13312,11648,11232,12480,12896,12272,12272,12480,12896,12480]
# Gera valores de xy, x^2, y^2, somatorios...
n = len(x)
print n
xy = []
x2 = []
y2 = []
zipado = zip(x,y)

for i,j in zipado:
	xy.append(i*j)
	x2.append(i**2)
	y2.append(j**2)

sumx = sum(x)
sumy = sum(y)
sumxy = sum(xy)	
sumx2 = sum(x2)
sumy2 = sum(y2)

# Calcula a, b, e r^2
a = ((n*sumxy) - (sumx*sumy)) / ((n*sumx2) - sumx**2)
b = (sumy - (a*sumx)) / n
r2 = ((sumxy - ((sumx*sumy)/n))**2) / ((sumx2 - (((sumx)**2)/n)) * (sumy2 - (((sumy)**2)/n)))

# Mostra os resultados e a melhor reta, arredondando para uma melhor visualizacao
print "a =", round(a, 4) 
print "b =", round(b, 4)
print ""
print "A melhor reta: y = "+str(round(a, 3))+"x"+" + "+str(round(b, 3))
print "Coeficiente de determinacao(r2) =", round(r2, 4)
print ""